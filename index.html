<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Events</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0f0f0f;
  color:white;
  text-align:center;
}

.lock-screen{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}

.lock-icon{
  font-size:60px;
  margin-bottom:20px;
}

input{
  padding:12px;
  border-radius:10px;
  border:none;
  text-align:center;
}

button{
  padding:10px 20px;
  border:none;
  border-radius:12px;
  margin:8px;
  cursor:pointer;
  font-weight:bold;
  transition:0.3s;
}

button:hover{
  transform:scale(1.08);
  box-shadow:0 0 15px rgba(255,255,255,0.4);
}

.events{
  display:none;
  padding:20px;
  max-width:500px;
  margin:auto;
}

.card{
  background:#1c1c1c;
  padding:20px;
  border-radius:18px;
  margin-bottom:20px;
  animation:fadeIn 0.6s ease forwards;
}

.red-card{
  background:#8B0000;
}

.join-btn{
  background:#4CAF50;
  color:white;
}

.contact-btn{
  background:purple;
  color:white;
}

.next{
  color:#3fa9ff;
  font-weight:bold;
}

.soon{
  font-weight:bold;
}

.rating span{
  font-size:26px;
  cursor:pointer;
}

.star-active{
  color:gold;
}

.rating-text{
  margin-top:10px;
  font-size:14px;
  opacity:0.8;
}

.joined-text{
  margin-top:10px;
  color:#4CAF50;
  font-weight:bold;
}

@keyframes fadeIn{
  from{opacity:0; transform:translateY(20px);}
  to{opacity:1; transform:translateY(0);}
}
</style>
</head>

<body>

<div class="lock-screen" id="lockScreen">
  <div class="lock-icon">üîí</div>
  <h2>Enter Password</h2>
  <input type="password" id="passwordInput" placeholder="Password">
  <br>
  <button onclick="checkPassword()">Enter</button>
</div>

<div class="events" id="eventsPage">

  <!-- ŒòŒïŒëŒ§Œ°Œü -->
  <div class="card">
    <div>‚úî about a day ago</div>
    <h2>ŒòŒ≠Œ±œÑœÅŒø 21/2</h2>
    <p>Rate the event:</p>
    <div class="rating">
      <span onclick="rate(this)">‚òÖ</span>
      <span onclick="rate(this)">‚òÖ</span>
      <span onclick="rate(this)">‚òÖ</span>
      <span onclick="rate(this)">‚òÖ</span>
      <span onclick="rate(this)">‚òÖ</span>
    </div>
    <div class="rating-text" id="ratingText"></div>
  </div>

  <!-- ESCAPE ROOM -->
  <div class="card">
    <h2>Escape Room</h2>
    <button class="join-btn" onclick="joinEvent(this,'escape')">Join</button>
    <div class="joined-text" id="escapeText"></div>
    <br>
    <a href="contact.html">
      <button class="contact-btn">Contact</button>
    </a>
  </div>

  <!-- KART -->
  <div class="card">
    <h2>Kart Event</h2>
    <a href="contact.html">
      <button class="contact-btn">Contact</button>
    </a>
  </div>

  <!-- Œ†ŒõŒëŒùŒóŒ§ŒëŒ°ŒôŒü -->
  <div class="card red-card">
    <div class="next">NEXT</div>
    <h2>Œ†ŒªŒ±ŒΩŒ∑œÑŒ¨œÅŒπŒø</h2>
    <div class="soon">SOON</div>
    <br>
    <a href="contact.html">
      <button class="contact-btn">Contact</button>
    </a>
  </div>

</div>

<script>
<script>

function checkPassword(){
  const password = document.getElementById("passwordInput").value;
  if(password === "7667"){
    document.getElementById("lockScreen").style.display="none";
    document.getElementById("eventsPage").style.display="block";
    loadJoins();
  } else {
    alert("Wrong password");
  }
}

function joinEvent(button,eventId){

  if(localStorage.getItem("joined_"+eventId)){
    return;
  }

  let name = prompt("Enter your name:");
  if(name && name.trim() !== ""){
    localStorage.setItem("joined_"+eventId,name);

    button.innerText="Already Joined";
    button.style.background="gray";
    button.disabled=true;

    document.getElementById(eventId+"Text").innerHTML =
      "‚úî " + name + " joined";
  }
}

function loadJoins(){
  const events=["escape"];

  events.forEach(eventId=>{
    const savedName = localStorage.getItem("joined_"+eventId);
    if(savedName){
      const btn = document.querySelector(
        "button[onclick=\"joinEvent(this,'"+eventId+"')\"]"
      );
      if(btn){
        btn.innerText="Already Joined";
        btn.style.background="gray";
        btn.disabled=true;
      }
      document.getElementById(eventId+"Text").innerHTML =
        "‚úî " + savedName + " joined";
    }
  });
}

function rate(star){
  const stars = star.parentElement.querySelectorAll("span");
  stars.forEach(s=>s.classList.remove("star-active"));
  star.classList.add("star-active");

  let rating = Array.from(stars).indexOf(star)+1;
  document.getElementById("ratingText").innerText =
    "You rated this event " + rating + " stars";
}

</script>

</body>
</html>
