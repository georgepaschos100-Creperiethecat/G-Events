<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Events</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0f0f0f;
  color:white;
  text-align:center;
}

.lock-screen{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}

input{
  padding:12px;
  border-radius:10px;
  border:none;
  text-align:center;
}

button{
  padding:14px;
  border:none;
  border-radius:12px;
  margin:8px 0;
  cursor:pointer;
  font-weight:bold;
  transition:0.3s;
}

button:hover{
  transform:scale(1.02);
}

.events{
  display:none;
  padding:20px;
  max-width:500px;
  margin:auto;
}

.section-title{
  margin:30px 0 15px 0;
  font-size:22px;
  font-weight:bold;
}

.card{
  background:#1c1c1c;
  padding:20px;
  border-radius:18px;
  margin-bottom:20px;
}

.red-card{
  background:#8B0000;
  box-shadow:0 0 20px rgba(255,0,0,0.25);
}

.join-btn{
  background:#4CAF50;
  color:white;
  width:100%;
  font-size:16px;
}

.contact-btn{
  background:purple;
  color:white;
  width:100%;
}

.calendar-btn{
  background:#1e90ff;
  color:white;
  width:100%;
}

.cancel-btn{
  background:#c62828;
  color:white;
  width:100%;
}

.mega-box{
  background:#1c1c1c;
  padding:25px;
  border-radius:18px;
}

.mega-btn{
  background:#4da6ff;
  color:white;
  width:100%;
  font-size:18px;
}

.next{
  color:#3fa9ff;
  font-weight:bold;
  margin-bottom:8px;
}
</style>
</head>

<body>

<div class="lock-screen" id="lockScreen">
  <h2>Enter Password</h2>
  <input type="password" id="passwordInput">
  <br><br>
  <button onclick="checkPassword()">Enter</button>
</div>

<div class="events" id="eventsPage">

  <!-- CATEGORY 1 -->
  <div class="section-title">Διαθέσιμα Events</div>

  <div class="card red-card">
    <div class="next">NEXT</div>
    <h2>Escape Room</h2>

    <button id="escapeJoin" class="join-btn" onclick="joinEvent()">Join</button>
    <div id="escapeText"></div>

    <button id="escapeCancel" class="cancel-btn" style="display:none;" onclick="cancelJoin()">Cancel</button>

    <button id="escapeCalendar" class="calendar-btn" style="display:none;" onclick="addToCalendar('Escape Room','20260228')">
      + Add to Calendar
    </button>

    <a href="contact.html">
      <button class="contact-btn">Contact</button>
    </a>
  </div>

  <div class="card">
    <h2>Kart Event</h2>
    <a href="contact.html">
      <button class="contact-btn">Contact</button>
    </a>
  </div>

  <div class="card">
    <h2>Πλανητάριο</h2>
    <a href="contact.html">
      <button class="contact-btn">Contact</button>
    </a>
  </div>

  <!-- CATEGORY 2 -->
  <div class="section-title">Mega Events</div>

  <div class="mega-box">
    <a href="mega-events.html">
      <button class="mega-btn">View Mega Events</button>
    </a>
  </div>

</div>

<script>
function checkPassword(){
  if(document.getElementById("passwordInput").value==="7667"){
    document.getElementById("lockScreen").style.display="none";
    document.getElementById("eventsPage").style.display="block";
    loadJoins();
  }
}

function joinEvent(){
  let name=prompt("Enter your name:");
  if(name){
    localStorage.setItem("joined_escape",name);
    document.getElementById("escapeJoin").innerText="Already Joined";
    document.getElementById("escapeJoin").disabled=true;
    document.getElementById("escapeCalendar").style.display="block";
    document.getElementById("escapeCancel").style.display="block";
    document.getElementById("escapeText").innerHTML="✔ "+name+" joined";
  }
}

function cancelJoin(){
  localStorage.removeItem("joined_escape");
  document.getElementById("escapeJoin").innerText="Join";
  document.getElementById("escapeJoin").disabled=false;
  document.getElementById("escapeCalendar").style.display="none";
  document.getElementById("escapeCancel").style.display="none";
  document.getElementById("escapeText").innerHTML="";
}

function loadJoins(){
  let name=localStorage.getItem("joined_escape");
  if(name){
    document.getElementById("escapeJoin").innerText="Already Joined";
    document.getElementById("escapeJoin").disabled=true;
    document.getElementById("escapeCalendar").style.display="block";
    document.getElementById("escapeCancel").style.display="block";
    document.getElementById("escapeText").innerHTML="✔ "+name+" joined";
  }
}

function addToCalendar(title,date){
  window.open("https://calendar.google.com/calendar/render?action=TEMPLATE&text="+title+"&dates="+date+"T000000/"+date+"T235900");
}
</script>

</body>
</html>
